<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=stylesheet href=./yt.css>
<title>AnkiTools-YouTuber search</title>
</head>
<body>
<h1 id=main-heading>AnkiTools-YouTuber search</h1>
<div id=button-div>
<button id=oldbutton onclick=oldResults()>‚è™ Old Result</button>
<button id=newbutton onclick=newResults()>New Result ‚è©</button>
</div>
<div id=result-div></div>
<div id=loading class=loader></div>
<div id=footer>
<a id=contact href=https://t.me/ankitools target=_blank>
<img src=https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/2048px-Telegram_logo.svg.png alt=Telegram width=50 height=50>
</a>
</div>
<div class=inputDiv>
<input type=search id=subjectInput placeholder="e.g., Tech, Science, etc.">
<button id=search onclick=searchYouTubers()>üîç</button>
<div id=space></div>
</div>
<script>function startLoading(){const e=document.getElementById("search"),n=(document.getElementById("subjectInput"),document.getElementById("loading")),t=document.getElementById("result-div");console.log("startloading running"),e.disabled=!0,n.style.display="flex",t.style.opacity=0}function stopLoading(){const e=document.getElementById("search"),n=document.getElementById("loading"),t=document.getElementById("result-div");e.disabled=!1,n.style.display="none",t.style.opacity=1}let oldResult,link,runCount=0;function searchYouTubers(){oldbutton=document.getElementById("oldbutton"),console.log("search youtub running"),console.log("create runner running"),runCount++,console.log("runCount is ",runCount),2===runCount&&(oldbutton.style.display="inline-block");const e=document.getElementById("subjectInput"),n=e.value.trim();if(""===n){return void(document.getElementById("result-div").innerHTML='\n                    <p id="nontipe">Please type anything or subscribe to our\n                    <a href="https://youtube.com/@AnkiTools?si=tcE8uZDI5ulNoN_1" target="_blank">YouTube channel</a></p>\n                ')}startLoading(),"https://www.youtube.com/channel/[a-zA-Z0-9_-]"==e.value&&console.log("link hd bro");fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${n}&type=channel&key=AIzaSyCrMqYI-lRbUSqKnP712cOm_A7ECneBrGU`).then((e=>e.json())).then((e=>{displayResults(e.items),stopLoading()})).catch((e=>{console.error("Error fetching data:",e),stopLoading()}))}function copyChannelLink(e){const n=e.getAttribute("data-channel-link");navigator.clipboard.writeText(n).then((()=>{e.innerHTML="Copied",setTimeout((()=>{e.innerHTML="Copy"}),2e3)})).catch((e=>console.error("Error copying channel link:",e)))}let cut,newresults,selectlink=[];function selected(e){document.getElementById("confirm").style.display="block";const n=e.target,t=n.getAttribute("data-channel-link");if(n.checked)selectlink.push(t);else{const e=selectlink.indexOf(t);-1!==e&&selectlink.splice(e,1)}console.log(selectlink)}function displayResults(e){const n=document.getElementById("result-div");oldResult=n.innerHTML,cut||(n.innerHTML=""),0!==e.length?(e.forEach(((e,t)=>{const o=e.snippet.channelTitle,l=e.id.channelId,s=`https://www.youtube.com/channel/${l}`,u=document.createElement("div");u.innerHTML=`\n                    <img src="${e.snippet.thumbnails.default.url}" alt="${o} Thumbnail">\n                    <p>${o}</p>\n                    <div class="channel-info-details">\n                        <p>Subscribers: <span id="subscribersCount_${t}"></span></p>\n                        <p>Videos: <span id="videosCount_${t}"></span></p>\n                        <p>Total Views: <span id="viewsCount_${t}"></span></p>\n                        <button id="copy_${t}" data-channel-link="${s}" onclick="copyChannelLink(this)">Copy</button>\n                        <input onclick="selected(event)" type="checkbox" id="comInput_${t}" data-channel-link="${s}">\n                        <label for="comInput_${t}">Select</label>\n                        <a href="${s}" target="_blank">Go channel</a>  \n                    </div>\n                `,u.className="channel-info",n.appendChild(u);fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${l}&key=AIzaSyCrMqYI-lRbUSqKnP712cOm_A7ECneBrGU`).then((e=>e.json())).then((e=>{const n=e.items&&e.items.length>0?e.items[0].statistics:{};document.getElementById(`subscribersCount_${t}`).textContent=n.subscriberCount||"N/A",document.getElementById(`videosCount_${t}`).textContent=n.videoCount||"N/A",document.getElementById(`viewsCount_${t}`).textContent=n.viewCount||"N/A"})).catch((e=>{console.error("Error fetching subscriber count:",e)}))})),stopLoading()):n.innerHTML="<p>No results found.</p>"}function handleKeyPress(e){"Enter"===e.key&&searchYouTubers()}function confirmClick(){input=document.getElementById("subjectInput"),console.log("confirm running");document.getElementById("result-div").innerHTML="",cut=!0;for(let e=0;e<selectlink.length;e++){console.log("lup running");let n=selectlink[e];input.value=n,searchYouTubers()}}function oldResults(){console.log("oldresult function running "),newresult=document.getElementById("result-div"),newresults=newresult.innerHTML,newresult.innerHTML="",newresult.innerHTML=oldResult,oldbutton=document.getElementById("oldbutton"),oldbutton.style.display="none",newbutton=document.getElementById("newbutton"),newbutton.style.display="inline-block"}function newResults(){oldresult=document.getElementById("result-div"),oldresult.innerHTML="",oldresult.innerHTML=newresults,newbutton=document.getElementById("newbutton"),newbutton.style.display="none",oldbutton=document.getElementById("oldbutton"),oldbutton.style.display="inline-block"}const subjectInput=document.getElementById("subjectInput");subjectInput.addEventListener("keypress",handleKeyPress)</script>
<style>@import url(https://fonts.googleapis.com/css2?family=Rubik+Doodle+Shadow&family=Rubik+Doodle+Triangles&display=swap);*{margin:0;padding:0}#main-heading{background:#40f5ff;border:2px solid #000;border-radius:4px;text-align:center;padding:10px;font-family:Rubik Doodle Shadow,Roboto,Arial,sans-serif}#subjectInput{flex-grow:1;border-radius:20px;border:2px solid #000;font-size:18px;padding:10px}#footer{background:#ff1515;display:flex;justify-content:flex-end}#contact{position:fixed;bottom:90px;right:10px}body{min-height:100vh;display:flex;flex-direction:column}.inputDiv{display:flex;width:100vw;padding:10px;gap:5px;position:fixed;bottom:30px}#search{width:50px;background:#aafff4;font-size:20px;border:none;border-radius:10px}#copy{color:#fff;background:#000;border-radius:999px;border:none;padding:5px 10px;cursor:pointer}#space{padding:10px}#result-div{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.channel-info img{max-width:100%;border-radius:5px;cursor:pointer;transition:transform .3s ease}.channel-info{min-width:200px;text-align:center;transition:transform .3s ease}.channel-info p{font-size:14px;margin:5px 0}.channel-info-details{min-width:200px;font-size:14px;margin-top:5px;padding:10px;border:2px solid #000;border-radius:10px;text-align:center;transition:margin-top .3s ease}.channel-info a{text-decoration:none;color:#000;font-weight:700;display:block;margin-top:10px}.channel-info button{margin-top:10px;background-color:#4caf50;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer}.spinner{border:4px solid #000023f0;border-top:4px solid #2c370011;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;position:relative;right:-50%;top:50px}#nontipe{color:#ff5e00;font-weight:700;font-size:30px}#nontipe>a{color:#33c833}#newbutton,#oldbutton{color:#000;background:#40f5ff;border:2px dotted #00f;border-radius:999px;display:none;margin-bottom:20px;padding:10px}#button-div{display:flex;gap:10px;margin-top:20px;justify-content:space-between}@media screen and (min-width:768px){.channel-info{min-width:calc(33.33% - 20px);font-size:16px}.channel-info img{max-width:80%}}.loader{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;position:fixed;right:50%;top:50%;display:none;transform:translate(50%,-50%)}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style>
</body>
</html>
